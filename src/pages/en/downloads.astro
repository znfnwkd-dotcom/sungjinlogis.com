---
import BaseLayout from '../../layouts/BaseLayout.astro';

const title = 'Downloads | SUNGJINLOGIS';
const description = 'Download the company profile (PDF) â€” we send a link after you submit your email.';
---
<BaseLayout title={title} description={description} lang="en" pathPrefix="/en">
  <section class="rounded-xl2 border border-stroke bg-surface p-8 shadow-soft">
    <h1 class="text-2xl font-semibold">Downloads</h1>
    <p class="mt-2 text-sm text-sub">
      We provide the company profile PDF via a download link sent to your email after you submit the form.
    </p>

    <form id="brochureForm" class="mt-8 grid gap-4 md:max-w-xl">
      <label class="grid gap-2">
        <span class="text-sm text-sub">Email *</span>
        <input
          class="rounded-xl border border-stroke bg-base px-4 py-3 text-sm"
          type="email"
          name="email"
          required
          placeholder="name@company.com"
        />
      </label>

      <label class="grid gap-2">
        <span class="text-sm text-sub">Company</span>
        <input
          class="rounded-xl border border-stroke bg-base px-4 py-3 text-sm"
          type="text"
          name="company"
          placeholder="Company"
        />
      </label>

      <label class="grid gap-2">
        <span class="text-sm text-sub">Name</span>
        <input
          class="rounded-xl border border-stroke bg-base px-4 py-3 text-sm"
          type="text"
          name="name"
          placeholder="Name"
        />
      </label>

      <!-- Honeypot (spam bot trap) -->
      <label class="hidden">
        <span>Leave this field empty</span>
        <input type="text" name="hp" />
      </label>

      <button
        class="rounded-xl bg-accent px-4 py-3 text-sm font-semibold text-white hover:bg-accent-hover transition"
        type="submit"
      >
        Request download link
      </button>

      <p id="brochureStatus" class="text-sm text-sub"></p>
      <p class="text-xs text-sub">
        * We will send the download link to the email address you provided.
      </p>
    </form>
  </section>

  <script>
    const form = document.getElementById('brochureForm');
    const statusEl = document.getElementById('brochureStatus');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = 'Sending...';

      const fd = new FormData
